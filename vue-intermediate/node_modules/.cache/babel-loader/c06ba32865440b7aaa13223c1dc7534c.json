{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex'; // use(global 사용할 플러그인명)\n\nVue.use(Vuex);\nconst storage = {\n  fetch() {\n    const arr = [];\n\n    if (localStorage.length > 0) {\n      for (let i = 0; i < localStorage.length; i++) {\n        const key = localStorage.key(i);\n        const item = localStorage.getItem(key);\n        const todoItem = JSON.parse(item);\n        arr.push(todoItem);\n      }\n\n      return arr;\n    }\n  }\n\n};\nexport const store = new Vuex.Store({\n  state: {\n    todoItems: storage.fetch()\n  },\n  getters: {\n    storedTodoItems(state) {\n      return state.todoItems;\n    }\n\n  },\n  mutations: {\n    addOneItem(state, todoItem) {\n      const obj = {\n        completed: false,\n        item: todoItem\n      };\n      localStorage.setItem(todoItem, JSON.stringify(obj));\n      state.todoItems.push(obj);\n    },\n\n    toggleOneItem(state, data) {\n      const index = data.index;\n      const todoItem = data.todoItem;\n      state.todoItems[index].completed = !state.todoItems[index].completed; // 로컬스토리지 갱신\n\n      localStorage.removeItem(todoItem.item);\n      localStorage.setItem(todoItem.item, JSON.stringify(todoItem));\n    },\n\n    removeOneItem(state, data) {\n      const index = data.index;\n      const todoItem = data.todoItem;\n      localStorage.removeItem(todoItem.item);\n      state.todoItems.splice(index, 1);\n    },\n\n    clearAllItems(state) {\n      localStorage.clear();\n      state.todoItems = [];\n    }\n\n  }\n});","map":{"version":3,"names":["Vue","Vuex","use","storage","fetch","arr","localStorage","length","i","key","item","getItem","todoItem","JSON","parse","push","store","Store","state","todoItems","getters","storedTodoItems","mutations","addOneItem","obj","completed","setItem","stringify","toggleOneItem","data","index","removeItem","removeOneItem","splice","clearAllItems","clear"],"sources":["/Users/radcns_son_jiyoung/Project/vuePrac/vue-intermediate/src/Store/store.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\n// use(global 사용할 플러그인명)\nVue.use(Vuex);\n\nconst storage = {\n    fetch() {\n        const arr = [];\n        if (localStorage.length > 0) {\n            for (let i = 0; i < localStorage.length; i++) {\n              const key = localStorage.key(i);\n              const item = localStorage.getItem(key);\n              const todoItem = JSON.parse(item);\n              arr.push(todoItem);\n            }\n            return arr;\n          }\n    }\n}\n\nexport const store = new Vuex.Store({\n    state: {\n        todoItems: storage.fetch()\n    },\n    getters: {\n        storedTodoItems(state) {\n            return state.todoItems;\n        }\n    },\n    mutations: {\n        addOneItem(state, todoItem) {\n            const obj = { completed: false, item: todoItem };\n            localStorage.setItem(todoItem, JSON.stringify(obj));\n            state.todoItems.push(obj);\n        },\n        toggleOneItem(state, data) {\n            const index = data.index;\n            const todoItem = data.todoItem;\n            state.todoItems[index].completed = !state.todoItems[index].completed;\n            // 로컬스토리지 갱신\n            localStorage.removeItem(todoItem.item);\n            localStorage.setItem(todoItem.item, JSON.stringify(todoItem));\n        },\n        removeOneItem(state, data) {\n            const index = data.index;\n            const todoItem = data.todoItem;\n            localStorage.removeItem(todoItem.item);\n            state.todoItems.splice(index, 1);\n        },\n        clearAllItems(state) {\n            localStorage.clear();\n            state.todoItems = [];\n          }\n    }\n});"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CAEA;;AACAD,GAAG,CAACE,GAAJ,CAAQD,IAAR;AAEA,MAAME,OAAO,GAAG;EACZC,KAAK,GAAG;IACJ,MAAMC,GAAG,GAAG,EAAZ;;IACA,IAAIC,YAAY,CAACC,MAAb,GAAsB,CAA1B,EAA6B;MACzB,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,YAAY,CAACC,MAAjC,EAAyCC,CAAC,EAA1C,EAA8C;QAC5C,MAAMC,GAAG,GAAGH,YAAY,CAACG,GAAb,CAAiBD,CAAjB,CAAZ;QACA,MAAME,IAAI,GAAGJ,YAAY,CAACK,OAAb,CAAqBF,GAArB,CAAb;QACA,MAAMG,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAjB;QACAL,GAAG,CAACU,IAAJ,CAASH,QAAT;MACD;;MACD,OAAOP,GAAP;IACD;EACN;;AAZW,CAAhB;AAeA,OAAO,MAAMW,KAAK,GAAG,IAAIf,IAAI,CAACgB,KAAT,CAAe;EAChCC,KAAK,EAAE;IACHC,SAAS,EAAEhB,OAAO,CAACC,KAAR;EADR,CADyB;EAIhCgB,OAAO,EAAE;IACLC,eAAe,CAACH,KAAD,EAAQ;MACnB,OAAOA,KAAK,CAACC,SAAb;IACH;;EAHI,CAJuB;EAShCG,SAAS,EAAE;IACPC,UAAU,CAACL,KAAD,EAAQN,QAAR,EAAkB;MACxB,MAAMY,GAAG,GAAG;QAAEC,SAAS,EAAE,KAAb;QAAoBf,IAAI,EAAEE;MAA1B,CAAZ;MACAN,YAAY,CAACoB,OAAb,CAAqBd,QAArB,EAA+BC,IAAI,CAACc,SAAL,CAAeH,GAAf,CAA/B;MACAN,KAAK,CAACC,SAAN,CAAgBJ,IAAhB,CAAqBS,GAArB;IACH,CALM;;IAMPI,aAAa,CAACV,KAAD,EAAQW,IAAR,EAAc;MACvB,MAAMC,KAAK,GAAGD,IAAI,CAACC,KAAnB;MACA,MAAMlB,QAAQ,GAAGiB,IAAI,CAACjB,QAAtB;MACAM,KAAK,CAACC,SAAN,CAAgBW,KAAhB,EAAuBL,SAAvB,GAAmC,CAACP,KAAK,CAACC,SAAN,CAAgBW,KAAhB,EAAuBL,SAA3D,CAHuB,CAIvB;;MACAnB,YAAY,CAACyB,UAAb,CAAwBnB,QAAQ,CAACF,IAAjC;MACAJ,YAAY,CAACoB,OAAb,CAAqBd,QAAQ,CAACF,IAA9B,EAAoCG,IAAI,CAACc,SAAL,CAAef,QAAf,CAApC;IACH,CAbM;;IAcPoB,aAAa,CAACd,KAAD,EAAQW,IAAR,EAAc;MACvB,MAAMC,KAAK,GAAGD,IAAI,CAACC,KAAnB;MACA,MAAMlB,QAAQ,GAAGiB,IAAI,CAACjB,QAAtB;MACAN,YAAY,CAACyB,UAAb,CAAwBnB,QAAQ,CAACF,IAAjC;MACAQ,KAAK,CAACC,SAAN,CAAgBc,MAAhB,CAAuBH,KAAvB,EAA8B,CAA9B;IACH,CAnBM;;IAoBPI,aAAa,CAAChB,KAAD,EAAQ;MACjBZ,YAAY,CAAC6B,KAAb;MACAjB,KAAK,CAACC,SAAN,GAAkB,EAAlB;IACD;;EAvBI;AATqB,CAAf,CAAd"},"metadata":{},"sourceType":"module"}